# Rest API Test Refresher

This is a refresher of the Rest API test in [Express REST API testing with jest and supertest](https://github.com/deepnair/restapitest) repository.

## Notes to remember
1. To run the test, you can create a "test" under scripts and set it to "jest". To have the tests run every time you save, you can set it to "jest --watchAll".
1. When something is returned from a query, it has been converted into JSON, so you'll have to change ObjectIDs (generated by MongoDB) to strings by casting it as a String(). And for date values such as createdAt, updatedAt, you need to use expect.any(String) since Dates can't be cast into strings using String() so easily.
1. Remember to return res.status(401).send in the requireUser middleware. If you don't return it, the request may continue on to the controller and give a 400 error instead.
1. When you create a produce, ensure that the status is 201 rather than 200 since you're adding a new product. 